{"version":3,"file":"index.ec76bd91.js","sources":["../../src/views/pages/index/useState.js","../../src/views/pages/index/index.vue"],"sourcesContent":["/* \n * @Author       : Eug\n * @Date         : 2021-04-02 10:49:13\n * @LastEditTime : 2021-09-10 17:33:02\n * @LastEditors  : Eug\n * @Descripttion : Descripttion\n * @FilePath     : /chat/src/views/pages/index/useState.js\n */\nimport { reactive } from 'vue'\nimport server from '/@/server'\nimport { cloneDeep } from  'lodash-es'\nexport const useStates = () => {\n    return reactive({\n        currentVm: null,\n        articleList: []\n    })\n}\n\nexport const useFunction = (props, state, { emit }) => {\n    // 获取文章列表\n    const useGetList = async () => {\n        try {\n            let res = await server.GetArticleList()\n            if (res.code === 200) {\n                state.articleList = cloneDeep(res.result)\n            } else {\n                emit('show-message', {\n                    msgText: res.result.msg,\n                    msgIcon: '',\n                    msgColor: ''\n                })\n            }\n        } catch (error) {\n            emit('show-message', {\n                msgText: 'Server Is Error!',\n                msgIcon: '',\n                msgColor: ''\n            })\n        }\n    }\n\n    const useToDetail = (articleList) => {\n        state.currentVm.$router.push({\n            name: 'ArticleDetail',\n            query: {\n                article_id: articleList\n            }\n        })\n    }\n\n    return {\n        useGetList,\n        useToDetail\n    }\n}","<!--\n * @Author       : Eug\n * @Date         : 2021-03-10 17:30:05\n * @LastEditTime : 2021-09-10 17:34:52\n * @LastEditors  : Eug\n * @Descripttion : Descripttion\n * @FilePath     : /chat/src/views/pages/index/index.vue\n-->\n<template>\n  <chat-container>\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n        <div\n          v-for=\"(item, idx) in articleList\"\n          @click=\"useToDetail(item.article_id)\"\n          :key=\"idx\"\n          class=\"m-4 bg-white shadow overflow-hidden sm:rounded-lg hover:shadow-lg transition duration-300 group\"\n        >\n          <div class=\"md:flex\">\n            <div class=\"md:flex-shrink-0\">\n              <img\n                class=\"h-48 w-full object-cover md:w-48\"\n                src=\"https://farm5.staticflickr.com/4397/36576053190_37d6a72e14_k.jpg?momo_cache_bg_uuid=c1cb8ab8-9cbf-4f9d-b3e8-36ed985f9525\"\n                alt=\"Man looking at item at a store\"\n              />\n            </div>\n            <div class=\"p-8 w-full relative box-border\">\n              <a\n                class=\"block mt-1 text-lg leading-tight font-medium text-black hover:underline\"\n                >{{ item.article_title }}</a\n              >\n              <div\n                class=\"mt-2 tracking-wide text-sm text-indigo-500 font-semibold\"\n              >\n                {{ item.author }}\n              </div>\n              <p class=\"mt-2 text-gray-500\">\n                概述 : {{ item.article_describe }}\n              </p>\n              <div class=\"mt-2 text-gray-500 absolute w-full bottom-10\">\n                <span class=\"absolute left-0\">\n                  浏览量 : {{ item.page_views }}\n                </span>\n                <span class=\"absolute right-16\">\n                  发布日期 : {{ lib.FormatTimerSecond(item.create_time) }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </chat-container>\n</template>\n\n<script>\nimport { useStates, useFunction } from \"./useState\";\nimport { getCurrentInstance, toRefs, defineComponent } from \"vue\";\nimport lib from '/@/lib'\n\nexport default defineComponent({\n  name: \"Dashboard\",\n  setup(props, ctx) {\n    const state = useStates(props)\n    state.currentVm = getCurrentInstance().proxy\n    const { useGetList, useToDetail } = useFunction(props, state, ctx)\n    useGetList()\n    return {\n      ...toRefs(state),\n      useToDetail,\n      lib\n    };\n  },\n})\n</script>\n\n<style>\n</style>"],"names":["defineComponent","name","setup","props","ctx","state","reactive","currentVm","articleList","getCurrentInstance","proxy","useGetList","useToDetail","emit","async","res","server","GetArticleList","code","cloneDeep","result","msgText","msg","msgIcon","msgColor","error","$router","push","query","article_id","useFunction","toRefs","lib","class","src","_createElementBlock","onClick","key","idx","_hoisted_5","_hoisted_6","_createElementVNode","_toDisplayString","_hoisted_11"],"mappings":"8eAWO,QCiDWA,GAChBC,KAAM,YACNC,MAAMC,EAAOC,SACLC,EDnDCC,EAAS,CACZC,UAAW,KACXC,YAAa,OCkDXD,UAAYE,IAAqBC,YACjCC,WAAEA,cAAYC,GD/CG,EAACT,EAAOE,GAASQ,KAAAA,MAgCjC,CACHF,WA/BeG,kBAEPC,QAAYC,EAAOC,iBACN,MAAbF,EAAIG,OACEV,YAAcW,EAAUJ,EAAIK,UAE7B,eAAgB,CACjBC,QAASN,EAAIK,OAAOE,IACpBC,QAAS,GACTC,SAAU,WAGbC,KACA,eAAgB,CACjBJ,QAAS,mBACTE,QAAS,GACTC,SAAU,OAgBlBZ,YAXiBJ,MACXD,UAAUmB,QAAQC,KAAK,CACzB1B,KAAM,gBACN2B,MAAO,CACHC,WAAYrB,QCoBYsB,CAAY3B,EAAOE,EAAOD,uIAGzD2B,EAAO1B,UADL,CAELO,YAAAA,EACAoB,IAAAA,iBA3DKC,MAAM,+GAWDA,yCACAC,IAAI,0KAKJD,MAAM,qCAINA,MAAM,8EAILA,MAAM,8FAIDA,MAAM,mDAGNA,MAAM,2JAOhB,yDApCME,SACPC,uCACDC,IAAKC,uHAUHC,UACEC,GAIAC,EAIM,MAAAC,sBACND,EAEI,oBADW,GAEfA,EAOM,mDAHJA,EAEO,OAFPE,EAAgC"}