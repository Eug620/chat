var e=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(o,r,t)=>r in o?e(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t;"undefined"!=typeof require&&require;import{r as d,d as l,g as n,t as m,a as c,o as u,c as p,m as b,h as g,k as h,B as w,l as v}from"./vendor.50df1612.js";import{l as f,s as x}from"./index.48988dc6.js";const S=(e,o,{emit:r})=>({useMarkedEvent:e=>{o.markedOption.mdValue=e},useSaveArticle:async()=>{try{if(f.GetUserInfo()){let e=await x.CreateArticle((()=>{const{user_name:e,user_id:r}=f.GetUserInfo();return{article_title:o.articleForm.title,author:e||"",article_describe:o.articleForm.describe,article_content:o.markedOption.mdValue,user_id:r||""}})());200===e.code?(console.log(e,"200"),r("show-message",{msgText:"新增文章成功！",msgIcon:"msgIcon",msgColor:"msgColor"}),setTimeout((()=>{o.currentVM.$router.push("Dashboard")}),500)):(console.log(e,"error"),r("show-message",{msgText:"新增文章失败！",msgIcon:"msgIcon",msgColor:"msgColor"}))}else r("show-message",{msgText:"请登录！！！",msgIcon:"msgIcon",msgColor:"msgColor"}),setTimeout((()=>{r("show-info",!0)}),500)}catch(e){r("show-message",{msgText:"服务器错误！",msgIcon:"msgIcon",msgColor:"msgColor"})}}}),y=l({setup(e,l){const c=d({currentVM:null,msgShow:"要显示的内容",dilogStatus:!1,markedOption:{isShowIcon:!0,isShowNav:!0,isShowEdit:!0,isFullPage:!1,isShowPreview:!0,mdValue:"## Chat-Editor"},articleForm:{title:"",describe:""}});c.currentVM=n().proxy;const{useMarkedEvent:u,useSaveArticle:p}=S(0,c,l);return b=((e,o)=>{for(var r in o||(o={}))s.call(o,r)&&a(e,r,o[r]);if(t)for(var r of t(o))i.call(o,r)&&a(e,r,o[r]);return e})({},m(c)),o(b,r({useMarkedEvent:u,useSaveArticle:p}));var b}}),k={class:"pt-4"},O={class:"mt-10 sm:mt-0"},I={class:"md:grid md:grid-cols-3 md:gap-6"},P={class:"mt-5 md:mt-0 md:col-span-3"},C={class:"shadow overflow-hidden sm:rounded-md"},F={class:"px-4 py-5 bg-white sm:p-6"},V={class:"grid grid-cols-6 gap-6"},E={class:"col-span-6 sm:col-span-4"},U=g("label",{class:"pl-3 border-double border-4 border-light-blue-500 border-t-0 border-r-0 border-b-0 text-lg font-medium antialiased font-mono text-purple-600 text-opacity-70 block text-sm font-medium text-gray-700"},"Title",-1),j={class:"col-span-6 sm:col-span-4"},T=g("label",{class:"pl-3 border-double border-4 border-light-blue-500 border-t-0 border-r-0 border-b-0 text-lg font-medium antialiased font-mono text-purple-600 text-opacity-70 block text-sm font-medium text-gray-700"},"Describe",-1),M={class:"col-span-6"},_=g("label",{class:"pl-3 mb-6 border-double border-4 border-light-blue-500 border-t-0 border-r-0 border-b-0 text-lg font-medium antialiased font-mono text-purple-600 text-opacity-70 block text-sm font-medium text-gray-700"},"Substance",-1),A={class:"border-gray-300 border h-screen"},N={class:"px-4 py-3 bg-white text-right sm:px-6"};y.render=function(e,o,r,t,s,i){const a=c("chat-editor"),d=c("chat-container");return u(),p(d,null,{default:b((()=>[g("div",k,[g("div",O,[g("div",I,[g("div",P,[g("div",C,[g("div",F,[g("div",V,[g("div",E,[U,h(g("input",{type:"text",placeholder:"Title...","onUpdate:modelValue":o[0]||(o[0]=o=>e.articleForm.title=o),class:"ml-8 pl-10 my-4 placeholder-gray-500 border-t-0 border-b-0 border-r-0 rounded-3xl focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[w,e.articleForm.title]])]),g("div",j,[T,h(g("input",{type:"text",placeholder:"Describe...","onUpdate:modelValue":o[1]||(o[1]=o=>e.articleForm.describe=o),class:"ml-8 pl-10 my-4 placeholder-gray-500 border-t-0 border-b-0 border-r-0 rounded-3xl focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[w,e.articleForm.describe]])]),g("div",M,[_,g("div",A,[v(a,{mdValue:e.markedOption.mdValue,"onUpdate:mdValue":o[2]||(o[2]=o=>e.markedOption.mdValue=o),isFullPage:e.markedOption.isFullPage,"onUpdate:isFullPage":o[3]||(o[3]=o=>e.markedOption.isFullPage=o),isShowEdit:e.markedOption.isShowEdit,"onUpdate:isShowEdit":o[4]||(o[4]=o=>e.markedOption.isShowEdit=o),isShowPreview:e.markedOption.isShowPreview,"onUpdate:isShowPreview":o[5]||(o[5]=o=>e.markedOption.isShowPreview=o),isShowNav:e.markedOption.isShowNav,"onUpdate:isShowNav":o[6]||(o[6]=o=>e.markedOption.isShowNav=o),isShowIcon:e.markedOption.isShowIcon,"onUpdate:isShowIcon":o[7]||(o[7]=o=>e.markedOption.isShowIcon=o),onChildevent:e.useMarkedEvent},null,8,["mdValue","isFullPage","isShowEdit","isShowPreview","isShowNav","isShowIcon","onChildevent"])])])])]),g("div",N,[g("div",{onClick:o[8]||(o[8]=(...o)=>e.useSaveArticle&&e.useSaveArticle(...o)),class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Save")])])])])])])])),_:1})};export{y as default};
